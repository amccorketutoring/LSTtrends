import unittest
from pathlib import Path
from lsttrends.analysis import UHI_Vulnerability_Index_Knox as vulnerability

HERE = Path(__file__).resolve().parent
DATA_DIR = HERE.parent / "data"
csv_path = DATA_DIR / "Knox_UHI_Zonal_Stats_STRM.csv"
required_exists = csv_path.exists()

@unittest.skipUnless(required_exists, "Required data file not found.")
class TestUHIVulnerability(unittest.TestCase):
    def test_script_runs_without_error(self):
        try:
            vulnerability  # Confirm import succeeded
        except Exception as e:
            self.fail(f"Import failed: {e}")

if __name__ == "__main__":
    unittest.main()
